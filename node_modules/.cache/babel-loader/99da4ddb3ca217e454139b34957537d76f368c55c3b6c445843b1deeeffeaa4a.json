{"ast":null,"code":"var _jsxFileName = \"C:\\\\WebDev\\\\mappy-boosted\\\\mappy2\\\\src\\\\components\\\\MapView.tsx\",\n  _s = $RefreshSig$();\nimport React, { useContext, useLayoutEffect, useRef } from 'react';\nimport { PlacesContext } from '../context';\nimport { Loading } from './';\nimport { Map } from 'mapbox-gl';\nimport { MapContext } from '../context/map/MapContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const MapView = () => {\n  _s();\n  const {\n    isLoading,\n    userLocation\n  } = useContext(PlacesContext);\n  const {\n    setMap\n  } = useContext(MapContext);\n  const mapDiv = useRef(null);\n  useLayoutEffect(() => {\n    if (!isLoading) {\n      const map = new Map({\n        container: mapDiv.current,\n        style: 'mapbox://styles/mapbox/streets-v12',\n        center: userLocation,\n        zoom: 14\n      });\n      setMap(map);\n    }\n  }, [isLoading]);\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 17\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: mapDiv,\n    style: {\n      width: '100vw',\n      height: '100vh',\n      left: 0,\n      top: 0,\n      position: 'fixed'\n    },\n    children: userLocation === null || userLocation === void 0 ? void 0 : userLocation.join(',')\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 9\n  }, this);\n};\n_s(MapView, \"88b+wxq/s3tR7ev+XLr2svjOFvM=\");\n_c = MapView;\nvar _c;\n$RefreshReg$(_c, \"MapView\");","map":{"version":3,"names":["React","useContext","useLayoutEffect","useRef","PlacesContext","Loading","Map","MapContext","jsxDEV","_jsxDEV","MapView","_s","isLoading","userLocation","setMap","mapDiv","map","container","current","style","center","zoom","fileName","_jsxFileName","lineNumber","columnNumber","ref","width","height","left","top","position","children","join","_c","$RefreshReg$"],"sources":["C:/WebDev/mappy-boosted/mappy2/src/components/MapView.tsx"],"sourcesContent":["import React, { useContext, useLayoutEffect, useRef } from 'react'\r\nimport { PlacesContext } from '../context'\r\nimport { Loading } from './'\r\nimport {Map} from 'mapbox-gl'\r\nimport { MapContext } from '../context/map/MapContext'\r\n\r\n\r\n\r\nexport const MapView = () => {\r\n    const {isLoading, userLocation} = useContext(PlacesContext)\r\n    const { setMap } = useContext (MapContext)\r\n    \r\n    const mapDiv= useRef<HTMLDivElement>(null);\r\n\r\n    useLayoutEffect(() => {\r\n        if( !isLoading ){\r\n            const map = new Map({\r\n                container: mapDiv.current!, \r\n                style: 'mapbox://styles/mapbox/streets-v12',\r\n                center: userLocation,\r\n                zoom: 14 \r\n                });\r\n                setMap(map);\r\n            }\r\n            }, [isLoading] )\r\n\r\n      \r\n\r\n        \r\n\r\n\r\n    if (isLoading) {\r\n        return (<Loading />)\r\n    }\r\n\r\n    return (\r\n        <div ref={ mapDiv }\r\n        style={\r\n            {\r\n                width: '100vw',\r\n                height: '100vh',\r\n                left: 0,\r\n                top: 0,\r\n                position:'fixed',\r\n        }}\r\n        >\r\n\r\n            {userLocation?.join(',')}\r\n        </div>\r\n    )\r\n}\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,UAAU,EAAEC,eAAe,EAAEC,MAAM,QAAQ,OAAO;AAClE,SAASC,aAAa,QAAQ,YAAY;AAC1C,SAASC,OAAO,QAAQ,IAAI;AAC5B,SAAQC,GAAG,QAAO,WAAW;AAC7B,SAASC,UAAU,QAAQ,2BAA2B;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAItD,OAAO,MAAMC,OAAO,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACzB,MAAM;IAACC,SAAS;IAAEC;EAAY,CAAC,GAAGZ,UAAU,CAACG,aAAa,CAAC;EAC3D,MAAM;IAAEU;EAAO,CAAC,GAAGb,UAAU,CAAEM,UAAU,CAAC;EAE1C,MAAMQ,MAAM,GAAEZ,MAAM,CAAiB,IAAI,CAAC;EAE1CD,eAAe,CAAC,MAAM;IAClB,IAAI,CAACU,SAAS,EAAE;MACZ,MAAMI,GAAG,GAAG,IAAIV,GAAG,CAAC;QAChBW,SAAS,EAAEF,MAAM,CAACG,OAAQ;QAC1BC,KAAK,EAAE,oCAAoC;QAC3CC,MAAM,EAAEP,YAAY;QACpBQ,IAAI,EAAE;MACN,CAAC,CAAC;MACFP,MAAM,CAACE,GAAG,CAAC;IACf;EACA,CAAC,EAAE,CAACJ,SAAS,CAAC,CAAE;EAOxB,IAAIA,SAAS,EAAE;IACX,oBAAQH,OAAA,CAACJ,OAAO;MAAAiB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAG;EACvB;EAEA,oBACIhB,OAAA;IAAKiB,GAAG,EAAGX,MAAQ;IACnBI,KAAK,EACD;MACIQ,KAAK,EAAE,OAAO;MACdC,MAAM,EAAE,OAAO;MACfC,IAAI,EAAE,CAAC;MACPC,GAAG,EAAE,CAAC;MACNC,QAAQ,EAAC;IACjB,CAAE;IAAAC,QAAA,EAGGnB,YAAY,aAAZA,YAAY,uBAAZA,YAAY,CAAEoB,IAAI,CAAC,GAAG;EAAC;IAAAX,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACtB;AAEd,CAAC;AAAAd,EAAA,CA1CYD,OAAO;AAAAwB,EAAA,GAAPxB,OAAO;AAAA,IAAAwB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}